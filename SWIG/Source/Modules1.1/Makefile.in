#######################################################################
# Header
#######################################################################

srcdir = @srcdir@
VPATH = @srcdir@

SHELL    = /bin/sh
CXX      = @CXX@
CFLAGS   = @CFLAGS@ @SWILL@
YACC     = @YACC@
AR       = @AR@
RANLIB   = @RANLIB@

TARGET   = libmodules11.a
OBJS     = main.o module.o emit.o overload.o lang.o typepass.o allocate.o browser.o contract.o swigmain.o tcl8.o python.o perl5.o guile.o ruby.o mzscheme.o java.o php4.o ocaml.o xml.o pike.o s-exp.o
SRCS     = main.cxx module.cxx emit.cxx overload.cxx lang.cxx typepass.cxx allocate.cxx browser.cxx contract.cxx swigmain.cxx tcl8.cxx python.cxx perl5.cxx guile.cxx ruby.cxx mzscheme.cxx java.cxx php4.cxx ocaml.cxx xml.cxx pike.cxx s-exp.cxx

INCLUDE  = -I$(srcdir)/../Include		\
           -I$(srcdir)/../DOH/Include		\
           -I$(srcdir)/../Preprocessor          \
           -I$(srcdir)/../Swig                  \
           -I../Include

# Rules for creation of a .o file from .cxx
.SUFFIXES: .cxx
.cxx.o:
	$(CXX) $(INCLUDE) $(CFLAGS) -c -o $*.o $<


swig:  $(TARGET)

$(TARGET): $(OBJS)
	$(AR) cr $(TARGET) $(OBJS)
	$(RANLIB) $(TARGET)

clean::
	rm -f *.o *~ $(TARGET)

nuke::
	rm -f Makefile *~ #* core a.out
